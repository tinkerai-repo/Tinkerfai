version: 1.0
runtime: python311
build:
  commands:
    build:
      - pip3 install -r requirements.txt
run:
  runtime-version: 3.11
  command: python3 main.py
  network:
    port: 8000
    env: PORT
  env:
    - name: PORT
      value: "8000"
  secrets:
    - name: AWS_ACCESS_KEY_ID
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/aws-access-key-id-RWsHFE"
    - name: AWS_SECRET_ACCESS_KEY
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/aws-secret-access-key-4ApHsk"
    - name: AWS_REGION
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/aws-region-Hh8oGc"
    - name: COGNITO_USER_POOL_ID
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/cognito-user-pool-id-q0o1VQ"
    - name: COGNITO_APP_CLIENT_ID
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/cognito-app-client-id-Zt7lLq"
    - name: S3_BUCKET_NAME
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/s3-bucket-name-9jZ3BN"
    - name: OPENAI_API_KEY
      value-from: "arn:aws:secretsmanager:us-east-2:486660158371:secret:tinkerfai/openai-api-key-Xq6FAj"
